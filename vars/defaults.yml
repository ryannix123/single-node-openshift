---
# =============================================================================
# Single Node OpenShift - Day 2 Operations: Default Variables
# Override any of these on the command line with -e key=value
# or create a custom vars file and pass it with -e @my-vars.yml
# =============================================================================

# Path to your kubeconfig file.
# Defaults to KUBECONFIG env var, then ~/.kube/config.
kubeconfig: "{{ lookup('env', 'KUBECONFIG') | default(lookup('env', 'HOME') + '/.kube/config', true) }}"

# Private key used to connect to the SNO node as the 'core' user.
# Resolution order:
#   1. SNO_SSH_KEY env var (export SNO_SSH_KEY=~/.ssh/my_key)
#   2. ~/.ssh/id_ed25519_openshift  (recommended, OpenShift-specific key)
#   3. ~/.ssh/id_rsa                (legacy fallback)
#
# Override at runtime:
#   ansible-playbook sno-day2.yml -e ssh_key_path=~/.ssh/my_other_key
ssh_key_path: >-
  {{ lookup('env', 'SNO_SSH_KEY')
     | default(lookup('env', 'HOME') + '/.ssh/id_ed25519_openshift', true)
     | default(lookup('env', 'HOME') + '/.ssh/id_rsa', true) }}
# ------------------------------------------------------------------
# Storage
# ------------------------------------------------------------------

# Block device to wipe and hand to LVM.
# Use `lsblk` on your SNO node to confirm the correct device name.
# Common values: /dev/sdb, /dev/nvme1n1, /dev/vdb
storage_device: /dev/nvme1n1

# Name of the LVM StorageClass created by the operator.
# This matches the deviceClass name in the LVMCluster spec (vg1 → lvms-vg1).
storage_class: lvms-vg1

# LVM Operator subscription channel.
# Should match your OCP version: stable-4.19, stable-4.20, stable-4.21, etc.
lvm_channel: stable-4.21

# ------------------------------------------------------------------
# Image Registry
# ------------------------------------------------------------------

# PVC size for the internal image registry.
# 100Gi is comfortable for a home lab; increase if you push many images.
registry_size: 100Gi

# ------------------------------------------------------------------
# Cluster Monitoring (Prometheus)
# ------------------------------------------------------------------

# PVC size for each Prometheus replica.
monitoring_size: 40Gi

# Prometheus data retention period.
monitoring_retention: 7d

# PVC size for Alertmanager.
alertmanager_size: 2Gi

# ------------------------------------------------------------------
# Timeouts
# ------------------------------------------------------------------

# How many retries when waiting for operators to become ready.
# Each retry waits `operator_delay` seconds.
# Total wait = operator_retries × operator_delay
operator_retries: 40
operator_delay: 20
